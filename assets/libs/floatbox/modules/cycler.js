/* Floatbox v4.20 */
fb.extend(fb.proto,{BY:function(f,c){var b=fb,e=b.G[f],a=e.HC[c].img,d=a[fb.SD]("data-fb-src")||a[fb.SD]("longdesc");if(d&&d!=="done"){a.src=d;a[fb.UZ]("data-fb-src","done")}},BZ:function(){var b=fb,a=b.G.length,d,c;while(a--){if((d=b.G[a])){c=d.showing+1;if(c>=d.HC.length){c=0}b.BY(a,c);if(b.preloadAll&&fb.IA.count&&d.HC[d.showing].href){b.I(function(){fb.preload(d.HC[d.showing].href)},200)}}}},CA:function(h,n,s){var i=fb,k=i.G[h],f=k.HC[k.showing],d=s?0:i.cycleFadeDuration*2;try{if(!(k&&f&&f[fb.TO])){return}}catch(q){return}if(n>=k.HC.length){n=0}if(n<0){n=k.HC.length-1}if(n===k.showing){return}var a=k.HC[n],m=typeof k.previous==="number"?k.HC[k.previous]:null,g=f.img,c=a.img,l=m&&m.img,j=f.span,b=a.span,p=m&&m.span,o=function(){i.U(g,0,d/1.3,function(){f.style[fb.QL]=fb.TQ},null,"cycleThisImg"+h)},r=i.EN?function(){if(j){j.style[fb.VT]=fb.SR}if(b){b.style[fb.VT]=fb.VU}}:null;i.E("fade_cycleThisImg"+h);i.E("fade_cycleNextImg"+h);i.E("fade_cycleThisSpan"+h);i.E("fade_cycleNextSpan"+h);i.U(g,100,0);i.U(l,0,0);i.U(c,0,0);if(i.EN){if(j){j.style[fb.VT]=fb.VU}if(p){p.style[fb.VT]=fb.SR}if(b){b.style[fb.VT]=fb.SR}}else{i.U(j,100,0);i.U(p,0,0);i.U(b,0,0)}if(m){m.style[fb.QL]=fb.TQ}f.style.zIndex="10";a.style.zIndex="20";a.style[fb.QL]=i.J(a)==="a"?fb.SY:"block";if(k.div[fb.TT]<a[fb.TT]){k.div.style.height=a[fb.TT]+"px"}i.U(c,100,d,o,r,"cycleNextImg"+h);if(!i.EN){if(j){j.style.opacity="1";i.U(j,0,d,null,null,"cycleThisSpan"+h)}if(b){i.U(b,100,d,null,null,"cycleNextSpan"+h)}}k.previous=k.showing;k.showing=n;i.BZ()},CB:function(){var c=fb,d,e,a=fb[fb.TB].length,b=c.G.length;while(a--){if((e=fb[fb.TB][a])&&e.fbBox&&e.modal){break}}while(b--){if((d=c.G[b])&&d.M>=a&&!d.hovered){c.CA(b,d.showing+1)}}c.G.timer=c.I(c.CB,c.DG()*1000)},cycleGo:function(){var a=fb;a.cycleStop();a.G.timer=a.I(a.CB,a.DG()*600)},cycleStop:function(){var a=fb;clearTimeout(a.G.timer)},DG:function(){var c=fb,b=c.G.length,f,a;while(b--){try{if((f=c.G[b])&&(a=f.HC[f.showing].EZ)){if((a=c.DH(a))){return a}}}catch(d){}}return c.cycleInterval},BX:function(q,e){var m=fb,u=q.length;function h(){fb.G[this.idx].hovered=true}function l(){fb.G[this.idx].hovered=false}while(u--){var n=q[u],s=fb.G.length;while(s--){if(fb.G[s].div===n){fb.G.splice(s,1)}}var d=n.childNodes,b=[],f=0;for(var s=0;s<d.length;s++){var p=d[s],y=m.J(p);if(/^(a|div|img)$/.test(y)){if(y==="img"){var g=p[fb.UG][fb.QF]("div");p[fb.UL].replaceChild(g,p);g[fb.PG](p);p=g}var x=p[fb.SG]("img")[0];if(x){if(!b.length){p[fb.PV]+=" first-child"}x.style[fb.QL]=fb.SY;if(p[fb.TW]){f=b.length;if(n[fb.TT]<p[fb.TT]){n.style.height=p[fb.TT]+"px"}}p.EZ=m.HT(p[fb.SD]("data-fb-options")||p[fb.SD]("rev")||"").cycleInterval||m.HT(x[fb.SD]("data-fb-options")||x[fb.SD]("rev")||"").cycleInterval||null;p.img=x;p.span=p[fb.SG]("span")[0];b.push(p)}}}if(b.length>1){var c=n[fb.SD]("data-fb-options")||n[fb.SD]("rev"),o=(c&&m.HT(c).cyclePauseOnHover),s=b.length;if(typeof o!==fb.PR){o=m.cyclePauseOnHover}while(s--){var p=b[s];if(o){p.idx=fb.G.length;m[fb.PC](p,fb.TJ,h,null,e);m[fb.PC](p,fb.TI,l,null,e)}if(m.J(b[s])==="a"){var r=m.anchors.length;while(r--){var w=m.anchors[r];if(p===w.AE){var v=m.G.length;w.W.preloadCycleItem="fb.BY("+v+", "+s+")";w.W.setCycleItem="fb.CA("+v+", "+s+", true);";if(w.W[fb.PT]===m.undefined&&!(w.W.titleAsCaption&&w.AJ)&&p.span){w.W[fb.PT]=p.span[fb.TA]}break}}}}m.G.push({HC:b,showing:f,M:e,div:n})}}m.BZ();if(!m.KL.cycle){m.cycleGo()}},cyclerLoaded:true});